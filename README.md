# ReactJS-Study
## 개념
- 페이스북에서 개발/관리하는 라이브러리

- 리액트는 UI 기능만 제공
  - 전역 상태 관리, 라우팅, 빌드 시스템 등을 직접 구축해야 함
  - 전반적인 시스템을 직접 구축하여 자유도가 높음

- 자동으로 업데이트 되는 UI
  - `UI = render(state)`
  - render 함수는 순수 함수로 작성할 것
    > 순수함수는 출력값이 같다
    - 랜덤 함수 사용 금지
    - 외부 상태 변경 금지

- state는 불변 변수로 관리
  - 어떤 객체의 속성을 변경할 때 새로운 객체를 만들어 값을 할당하는 것

- 코드에서 순수 함수와 불변 변수를 적극적으로 사용하면 복잡도가 낮아지고 버그가 발생할 확률이 줄어든다.
  - 리액트에서 해당 조건을 따르면 렌더링 성능을 크게 향상시킬 수 있다.

- 가상 돔(Virtual DOM)
  - 이전 UI 상태를 메모리에 유지해서 변경된 부분만 실제 DOM에 반영해주는 기술
  - 불필요한 UI 업데이트가 감소되어 성능이 향상되는 것
  - 프로젝트 성격에 따라 성능 최적화 방법이 다를 수 있다.

## 잠깐, 바벨이란?
- 자바스크립트 코드를 변환해 주는 컴파일러
  - 코드에서 주석을 제거하거나 코드를 압축할 수도 있다.

- 최신 자바스크립트 문법을 지원하지 않는 환경에서도 최신 문법을 사용할 수 있다.

- 리액트에서는 JSX 문법을 사용하기 위해 바벨을 쓴다.
  - createElement 함수를 호출하는 코드로 변환하기 위해 사용하기도 한다.

- 설치하기
  - 바벨 패키지 설치 : `npm i @babel/core @babel/cli @babel/preset-react`
  - 컴파일 : `npx babel --watch src --out-dir . --presets @babel/preset-react`
    - watch모드로 동작, 파일이 변경될 때마다 컴파일을 자동으로 함
    - src 폴더에 있는 것을 현재 폴더로 출력

## npx란?
- ./node_modules > ./bin 하위에 babel이 존재
  - npx babel은 bin 폴더 하위의 babel을 실행시켜 줌
  - 설치가 되어있지 않으면 자동으로 설치 후 실행

## webpack
- 다양한 기능을 제공한다.
  - 파일 내용을 기반으로 파일 이름에 해시값 추가 > 효율적으로 브라우저 캐싱 이용 : `etag를 이용했을 때는 서버한테 캐시를 사용해도 되는지 물어보는 단계가 있는데, 파일 이름 자체가 해시의 키로 사용될 수가 있다면 서버한테 물어보지 않아도 되므로 좀 더 효율적으로 브라우저 캐싱을 사용할 수 있다.`
  - 사용되지 않은 코드 제거
  - 자바스크립트 압축
  - JS에서 CSS, JSON, 텍스트 파일 등을 일반 모듈처럼 불러오기 : `자바스크립트 안에서 모든 걸 처리할 수 있다.`
  - 환경 변수 주입

- 웹팩을 사용하는 가장 큰 이유 : 모듈 시스템(ESM, CommonJS)을 사용하기 위해서
  - ESM : ES6 때 추가
    ```js
    // file1.js 파일
    export default function func1() {}
    export function func2() {}
    export const variable1 = 123;
    export const variable2 = 'hello';

    // file2.js 파일
    import myFunc1, { func2, variable1, variable2 } from './file1.js';

    // file3.js 파일
    import { func2 as myFunc2 } from './file1.js';
    ```
    - 웹팩을 사용하지 않으면 필요한 자바스크립트 파일을 나열해서 사용한다.
      - 2000년대 초반에는 웹사이트가 동적이지 않아 파일이 적었으나 현재에 이르러선 많은 파일을 필요로 한다.
      - 이 경우 모든 파일을 html 태그에 script로 불러와야 하므로 관리비용이 많이 들 수 있다.
    - 특정 파일에서 외부로 노출하는 글로벌 변수가 존재한다면, 다른 파일에서 동일한 글로벌 변수를 노출할 때 문제가 발생할 수 있다.
      - 불러오는 파일 순서에 의해 문제가 발생할 수도 있다.
    - cdn주소를 입력하여 파일을 불러올 때, cdn에 문제가 발생하면 우리의 서비스에도 영향을 줄 수 있다는 불안정 요소가 존재한다.

  - CommonJS : Node에서 자주 사용